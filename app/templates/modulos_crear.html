{% extends "base.html" %}

{% block title %}Crear Módulo Escolar{% endblock %}

{% block content %}
<div class="container">
    <h1 class="text-center">Crear Módulo Escolar</h1>
    <hr>
    <form method="POST" action="{{ url_for('main.modulos_crear') }}">
        <div class="mb-3">
            <label for="nombre" class="form-label">Nombre</label>
            <input type="text" class="form-control" id="nombre" name="nombre" required>
        </div>
        
        <div class="mb-3">
            <label for="ubicacion" class="form-label">Ubicación</label>
            <input type="text" class="form-control" id="ubicacion" name="ubicacion">
        </div>

        <div class="mb-3">
            <label for="coordenadas" class="form-label">Coordenadas</label>
            <input type="text" class="form-control" id="coordenadas" name="coordenadas">
        </div>
        
        <div class="mb-3">
            <label for="escuela" class="form-label">Escuela</label>
            <select class="form-control" id="escuela" name="escuela" required>
                {% for escuela in escuelas %}
                    <option value="{{ escuela.id }}">{{ escuela.nombre }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="mb-3">
            <label for="dataloger" class="form-label">Dataloger</label>
            <select class="form-control" id="dataloger" name="dataloger" required>
                {% for dataloger in datalogers %}
                    <option value="{{ dataloger.id }}">{{ dataloger.nombre }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="mb-3">
            <label for="planta" class="form-label">Planta</label>
            <select class="form-control" id="planta" name="planta" required>
                {% for planta in plantas %}
                    <option value="{{ planta.id }}">{{ planta.especie }}</option>
                {% endfor %}
            </select>
        </div>
        
        <div class="mb-3">
            <label for="fecha_plantado" class="form-label">Fecha de Plantado</label>
            <input type="date" class="form-control" id="fecha_plantado" name="fecha_plantado">
        </div>

        <div class="mb-3">
            <label for="fecha_cosecha" class="form-label">Fecha de Cosecha</label>
            <input type="date" class="form-control" id="fecha_cosecha" name="fecha_cosecha">
        </div>

        <div class="mb-3">
            <label for="rango" class="form-label">Rangos</label>
            <select class="form-control" id="rango" name="rango">
                {% for rango in rangos %}
                    <option value="{{ rango.id }}">
                        Temperatura: {{ rango.temperatura_min }}°C - {{ rango.temperatura_max }}°C, 
                        PH: {{ rango.ph_min }} - {{ rango.ph_max }}, 
                        Humedad: {{ rango.humedad_min }}% - {{ rango.humedad_max }}%
                    </option>
                {% endfor %}
            </select>
        </div>
        
        <button type="submit" class="btn btn-primary">Crear Módulo</button>
        <a href="{{ url_for('main.index') }}" class="btn btn-secondary">Cancelar</a>
    </form>
</div>
{% endblock %}
